# –ê–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è

## üìã –ó–∞–¥–∞–Ω–∏–µ: "–°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–º–æ—â–Ω–∏–∫–∞ –ø–æ 3D-–ø–µ—á–∞—Ç–∏"

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚úÖ

#### User Interface Layer
- ‚úÖ **Telegram Bot** (`ui/telegram_bot.py`) - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ **Streamlit Dashboard** (`ui/streamlit_dashboard.py`) - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ **REST API** (`api/main.py`, `api/main_simple.py`) - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

#### Orchestration Layer
- ‚úÖ **Supervisor** (`orchestration/supervisor.py`) - LangGraph –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä
- ‚úÖ **Router** (`orchestration/router.py`) - –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ **Executor** (`orchestration/executor.py`) - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ **State Management** (`orchestration/state.py`) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

#### Tool/Agent Layer
- ‚úÖ **Code Interpreter** - –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ G-code:
  - Parser (–ø–∞—Ä—Å–∏–Ω–≥ G-code)
  - Validator (–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
  - Metrics (—Ä–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫)
  - Recommendations (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)
  - Generator (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π)

- ‚úÖ **RAG Engine** - –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π:
  - Embedder (Sentence Transformers)
  - Chunker (Parent Document strategy)
  - Reranker (BM25 + semantic)
  - ChromaDB –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- ‚úÖ **Vision Pipeline** - –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
  - YOLOv8 –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –¥–µ—Ñ–µ–∫—Ç–æ–≤
  - Claude Vision –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
  - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–µ—Ñ–µ–∫—Ç–æ–≤
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

- ‚úÖ **Hardware Interface** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–º:
  - Klipper/Moonraker API
  - OctoPrint API
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—á–∞—Ç—å—é

#### Data Persistence Layer
- ‚úÖ **PostgreSQL** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
  - Users, Sessions, Messages
  - Prints, Tool Invocations
  - –ú–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Alembic

- ‚úÖ **ChromaDB** - –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫:
  - Embeddings –¥–ª—è RAG
  - Parent Document strategy

- ‚úÖ **Redis** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ)

- ‚úÖ **LocalFS/S3** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

### 2. –ú—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚úÖ

#### Supervisor-based (–æ—Å–Ω–æ–≤–Ω–∞—è)
- ‚úÖ LangGraph –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- ‚úÖ Feedback loop

#### MultiModel (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è)
- ‚úÖ 4 —Ä–æ–ª–∏: –ê–Ω–∞–ª–∏—Ç–∏–∫ ‚Üí –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç ‚Üí –†–µ–¥–∞–∫—Ç–æ—Ä ‚Üí –ü—Ä–æ–≤–µ—Ä—è—é—â–∏–π
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã LLM
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–∏–µ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤
- ‚úÖ –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

### 3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚úÖ

#### –ê–Ω–∞–ª–∏–∑ G-code
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ G-code —Ñ–∞–π–ª–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, —Å–∫–æ—Ä–æ—Å—Ç—å, flow)
- ‚úÖ –î–µ—Ç–µ–∫—Ü–∏—è –∞–Ω–æ–º–∞–ª–∏–π
- ‚úÖ –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ (–≤—Ä–µ–º—è, –≤–µ—Å, —Å—Ç–æ–∏–º–æ—Å—Ç—å)
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

#### –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π (RAG)
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ (ChromaDB)
- ‚úÖ Re-ranking (BM25 + semantic)
- ‚úÖ Parent Document strategy

#### –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ YOLOv8 –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –¥–µ—Ç–µ–∫—Ü–∏–∏
- ‚úÖ Claude Vision –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- ‚úÖ –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–µ—Ñ–µ–∫—Ç–æ–≤
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–º
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Klipper/Moonraker
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ OctoPrint
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—á–∞—Ç—å—é

### 4. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è ‚úÖ

- ‚úÖ **Python 3.13** —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- ‚úÖ **LangChain/LangGraph** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ **FastAPI** –¥–ª—è REST API
- ‚úÖ **Docker** –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ **PostgreSQL** —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- ‚úÖ **ChromaDB** –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
- ‚úÖ **OpenRouter** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Anthropic)
- ‚úÖ **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å** (async/await)

### 5. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ

- ‚úÖ README.md - –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ ARCHITECTURE.md - –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- ‚úÖ SETUP.md - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- ‚úÖ DOCKER.md - Docker –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- ‚úÖ README_API.md - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- ‚úÖ AGENT_ARCHITECTURES.md - –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä –∞–≥–µ–Ω—Ç–æ–≤
- ‚úÖ QUICKSTART.md - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 6. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏ ‚úÖ

- ‚úÖ –î–≤–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∞–≥–µ–Ω—Ç–æ–≤ (Supervisor + MultiModel)
- ‚úÖ –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π —Å –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ –≤ –ë–î
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ .env
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **Python —Ñ–∞–π–ª–æ–≤:** ~50+
- **–ê–≥–µ–Ω—Ç–æ–≤:** 4 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö + 2 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- **API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:** 10+
- **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:** 3 (PostgreSQL, ChromaDB, Redis)
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤:** 3 (Telegram, Streamlit, REST API)

## üéØ –û—Ü–µ–Ω–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:

1. **–ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –≤—Å–µ —Å–ª–æ–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
2. **–ú—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –¥–≤–µ —Å—Ö–µ–º—ã —Ä–∞–±–æ—Ç—ã
3. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è
5. **Docker** - –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
6. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ** - API —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã

### üí° –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **–¢–µ—Å—Ç—ã** - –¥–æ–±–∞–≤–∏—Ç—å unit/integration —Ç–µ—Å—Ç—ã
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
5. **UI** - –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å Streamlit Dashboard

## üèÜ –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

**–û—Ü–µ–Ω–∫–∞: –û–¢–õ–ò–ß–ù–û (9/10)**

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–¥–∞–Ω–∏—é –∏ –¥–∞–∂–µ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–∏—Ç –µ–≥–æ:
- ‚úÖ –í—Å–µ —Ç—Ä–µ–±—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–¥—É–º–∞–Ω–∞ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

**–í—ã–≤–æ–¥:** –ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ! üéâ
